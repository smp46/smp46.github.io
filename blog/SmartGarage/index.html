<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta http-equiv="content-language" content="en-us" data-next-head=""/><meta name="author" content="Samuel Paynter " data-next-head=""/><meta name="viewport" content="width=device-width, initial-scale=1" data-next-head=""/><link rel="alternate" type="application/rss+xml" title="smp46 RSS Feed" href="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/feeds/feed.xml" data-next-head=""/><link rel="alternate" type="application/atom+xml" title="smp46 Atom Feed" href="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/feeds/atom.xml" data-next-head=""/><link rel="alternate" type="application/feed+json" title="smp46 JSON Feed" href="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/feeds/feed.json" data-next-head=""/><title data-next-head="">SmartGarage |  A DIY Wireless Garage Door Control System with a Side of Machine Learning</title><meta name="description" content="SmartGarage is a custom-built IoT solution that enables remote garage door control without modifying the original opener. Using a Raspberry Pi, relay circuit, and machine learning image recognition, it provides door status monitoring, remote operation, and automated notificationsâ€”all built with off-the-shelf components." data-next-head=""/><meta name="keywords" content="SmartGarage, Raspberry Pi garage door, machine learning IoT, MobileNetV3 image recognition, DIY smart home, remote garage control, Python image classification, Rust API server, garage door automation, security camera integration, homepage dashboard, wireless garage opener" data-next-head=""/><link rel="preload" href="/_next/static/css/9999165a2ba14a1b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9999165a2ba14a1b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-8cac0b4b405cede1.js" defer=""></script><script src="/_next/static/chunks/framework-ee17a4c43a44d3e2.js" defer=""></script><script src="/_next/static/chunks/main-1a14f97a66d86e3f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-867fce96a832de2f.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-70f4f431c3407748.js" defer=""></script><script src="/_next/static/DkntlcBzEx8e6sTB4STXz/_buildManifest.js" defer=""></script><script src="/_next/static/DkntlcBzEx8e6sTB4STXz/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex h-screen"><div class="sm:hidden fixed top-0 left-0 w-full bg-black text-white flex items-center justify-between px-8 py-4 z-50"><button class="text-white text-5xl flex items-center justify-center" aria-label="Open menu"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button><a href="/"><h2 class="sm:text-3xl text-5xl font-bold leading-none -translate-y-2 sm:translate-y-0">smp46</h2></a></div><div class="fixed top-0 left-0 h-screen bg-black text-white flex flex-col px-4 py-8 z-40
          transform -translate-x-full
          transition-transform duration-300 sm:translate-x-0 sm:static mt-8 w-64
          sm:flex-shrink-0 sm:mt-0 overflow-y-auto"><a href="/"><h2 class="text-5xl font-bold hidden sm:block">smp46</h2></a><div class="mt-4 flex space-x-3 sm:space-x-4"><a href="https://discord.com/users/335649164769886208" target="_blank" rel="noopener noreferrer" class="text-white sm:text-2xl text-4xl transition-transform duration-300 hover:scale-110" aria-label="Discord" data-umami-event="Clicked Discord Link" data-link="external"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"></path></svg></a><a href="https://github.com/smp46" target="_blank" rel="noopener noreferrer" class="text-white sm:text-2xl text-4xl transition-transform duration-300 hover:scale-110" aria-label="GitHub" data-umami-event="Clicked Github Link" data-link="external"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://linkedin.com/in/smp46" target="_blank" rel="noopener noreferrer" class="text-white sm:text-2xl text-4xl transition-transform duration-300 hover:scale-110" aria-label="LinkedIn" data-umami-event="Clicked LinkedIn Link" data-link="external"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a href="mailto:me@smp46.me" class="text-white sm:text-2xl text-4xl transition-transform duration-300 hover:scale-110" target="_blank" rel="noopener noreferrer" data-umami-event="Clicked email Link" data-link="external"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z"></path></svg></a><a class="text-white sm:text-2xl text-4xl transition-transform duration-300 hover:scale-110" target="_blank" data-umami-event="Clicked rss Link" data-link="external" href="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/feeds/feed.xml"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634-5.214-80.05-69.243-143.92-149.123-149.123-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425 110.546 5.974 198.997 94.536 204.964 204.964.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432 167.83 6.025 302.21 141.191 308.205 308.205.232 6.449-4.978 11.787-11.432 11.787z"></path></svg></a></div><nav class="flex flex-col sm:space-y-2 space-y-4 mt-6"><a class="text-white transition-transform duration-300 hover:scale-110 origin-left
                cursor-pointer sm:text-xl text-2xl" href="/">Welcome</a><a class="text-white transition-transform duration-300 hover:scale-110 origin-left
                cursor-pointer font-semibold sm:text-2xl text-3xl" href="/blog/">Blog</a><a class="text-white transition-transform duration-300 hover:scale-110 origin-left
                cursor-pointer sm:text-xl text-2xl" href="/experience/">Experience</a><a class="text-white transition-transform duration-300 hover:scale-110 origin-left
                cursor-pointer sm:text-xl text-2xl" href="/whoami/">whoami</a></nav></div><main class="flex-1 sm:ml-auto mt-16 sm:mt-0 sm:overflow-y-auto px-8 w-screen"><div class="min-h-screen relative overflow-hidden"><div class=" fixed inset-0 bg-white flex items-center justify-center z-29 sm:ml-64
          transition-opacity duration-500
          opacity-100 pointer-events-auto "><div class="animate-spin rounded-full h-16 w-16 border-4 border-black border-t-transparent"></div></div><div class="fixed top-0 right-0 w-[80px] h-[80px] z-50 sm:block hidden"><a class="github-corner" href="https://github.com/smp46/SmartGarage" target="_blank" rel="noopener noreferrer" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a></div><div class="flex items-center justify-center min-h-screen mb-5 overflow-hidden"><div class="prose prose-headings:break-words prose-headings:hyphens-auto prose-lg prose-img:mx-auto prose-headings:mt-8 prose-headings:font-semibold prose-headings:text-black prose-h1:text-3xl sm:prose-h1:text-5xl prose-h1:font-extrabold sm:prose-h1:font-bold prose-h2:text-3xl prose-h3:text-3xl prose-h4:text-2xl prose-h5:text-2xl prose-h6:text-xl dark:prose-headings:text-black text-black overflow-hidden max-w-[100ch]"><h1 id="smartgarage-a-diy-wireless-garage-door-control-system-with-a-side-of-machine-learning">SmartGarage: A DIY Wireless Garage Door Control System with a Side of Machine Learning</h1>
<h2 id="introduction">Introduction</h2>
<p>One day my friend Howie was over and he saw me open my garage door. Naturally he
got out the Flipper Zero he always carries in his bag and asks I use my garage
door fob again, he captures and resends it easily. I thought that was odd,
shouldn&#x27;t there be, I don&#x27;t know, maybe at least rolling codes on any modern
garage door opener. But I was inspired and thought if it&#x27;s that easy surely I
could automate that with some lower cost hardware.</p>
<p>So I get thinking and I come up with the project you&#x27;re reading right now. To
create a system to remotely open and close my garage door without physically
modifying the opener itself (I live in a rental so unfortunately this was a
requirement). But hey that doesn&#x27;t sound very ambitious and the year is 2024, so
I have to to add aRtIFicIAlL inTELiGeNce in here somewhere. In all seriousness,
often I leave the house and five minutes later start wondering if I did close my
garage door. So what if instead of wondering I could just check my
<a href="https://gethomepage.dev/">homepage</a> dashboard, or even get an email
notification if the garage door has been open too long. And how can I check if
the door is open or not without wiring anything in, easy, I&#x27;ll just train an
image recognition model that can tell me just that.</p>
<p>This project ended up combining hardware hacking, machine learning, and a web
interface to create a practical solution using nothing but off the shelf (or the
internet) parts and a bit of coding elbow grease.</p>
<p><img src="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/1.jpg?q=85&amp;f=webp" alt="Final Result"/></p>
<p>It&#x27;s hard to show a teaser of the final result because it has so many parts, but
here is what was the hardest part of the solution (I swear it&#x27;s not a bomb).</p>
<h2 id="initial-attempts-and-challenges">Initial Attempts and Challenges</h2>
<p>I started with the hard part, how do I clone the garage door fob signal and
resend it on command. The fob uses the 433MHz band for transmission. I happened
to have a Raspberry Pi Zero W sitting in my drawer, so I go online and find the
Texas Instruments CC1101 Sub-GHz transceiver (the same chip that is used by the
Flipper Zero). This should let me capture the signal and sent it right on back.
More searching and I see there&#x27;s plenty of drivers and other projects for this
transceiver so it can&#x27;t be that hard to use right. I order one, a breadboard and
a wiring kit to put it together.</p>
<p>As soon as I got it, I started trying to cobble something together, I try a
<a href="https://github.com/SpaceTeddy/CC1101">CC1101 driver library</a>, I find
<a href="https://github.com/fphammerle/python-cc1101">a python interface for it even</a>.
But I don&#x27;t have much luck.</p>
<p>I get to the stage where I can receive some kind of signal, however to be honest
I know nothing about radio and I&#x27;m only a CompSci student not an electrical
engineer. Even though it is the same chip used by the Flipper Zero, there seems
to be fair bit of special sauce that goes into being able to pull a signal out
of the air cleanly, then resend it. Documentation for the drivers didn&#x27;t make
much sense to me, if there was any at all. So after weeks of trying I decide to
pivot to another approach (definitely not a skill issue... okay maybe a little).</p>
<p>So I have a crack at the other side of the project, training an image
recognition model to tell me if the door is open or not. I start with getting
the cheapest wireless security camera I can find off of chinese marketplace
number 508 (<a href="banggood.com">banggood.com</a>), configuring my firewall to never let
it phone home (block all its internet access) and begin collecting data.</p>
<p>To do this I write a
<a href="https://gist.github.com/smp46/638484a6b0d3d1695666b6c678657ab9">Bash script for fetching security camera snapshots</a>,
and make it into a systemd service on my Debian home server. A few weeks later
and I have hundreds of thousands of photos that can be categorised as open or
closed.</p>
<p>I spent a while then doing some research on how exactly this whole machine
learning stuff works. I decided on making something with PyTorch. A little later
and some long discussions with Professor GPT I have
<a href="https://github.com/smp46/SmartGarage/tree/ac813584dbb65167c8f29fbdaa52849de34d0e04">two python scripts</a>.
The first lets me add my own training data onto the MobileNetV2 model (a
lightweight neural network designed for mobile devices) and configure it to
provide a binary output, the second loads my custom model, takes the input of a
picture and outputs: &quot;Opened or Closed&quot;. Neat! However, knowing my garage door
was actually left open doesn&#x27;t really help me if I can&#x27;t remotely close it.</p>
<p>A little over a year goes by, life goes on, and my garage remains dumb :(</p>
<p>However, recently while procrastinating some other programming assignments I
remembered this project. And I thought, if a fob can open and close the door,
maybe I can just automate pressing the button on the fob. Sometimes the simplest
solutions are the ones staring you right in the face all along...</p>
<h2 id="the-hardware-hack">The Hardware Hack</h2>
<p>So I ordered a couple of generic garage door fobs off eBay that were compatible
with my opener. After adding them to the garage door (following the actual
process in the manual), I started thinking about how I could simulate a button
press with my Raspberry Pi Zero W.</p>
<p>Now, I&#x27;m not an electrical engineer by any stretch, but I figured how
complicated could a fob be. I carefully cracked open one of the generic fobs and
examined the PCB. After some poking around with a multimeter, I discovered the
button on the fob just bridges two contacts on the PCB. If I could find a way to
bridge those contacts on command from the Pi, I&#x27;d be cooking.</p>
<p><img src="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/3.jpg?q=85&amp;f=webp" alt="fob_contacts"/></p>
<p>Here is the naked fob and the contacts I needed to bridge.</p>
<p>After some research, I figured out I needed:</p>
<ul>
<li><a href="https://www.jaycar.com.au/arduino-compatible-5v-relay/p/XC4419"><strong>Arduino Compatible 5V Relay</strong></a>
<ul>
<li>This allows me to use the GPIO on the Pi to send a high signal, which can
then bridge the circuit. As the Pi can&#x27;t &quot;bridge&quot; but it can send high low
signals.</li>
</ul>
</li>
<li><a href="https://www.jaycar.com.au/220-ohm-0-5-watt-metal-film-resistors-pack-of-8/p/RR0556"><strong>220 Ohm 0.5 Watt Resistor</strong></a>
<ul>
<li>This prevents the unlikely chance of the Relay drawing too much current and
cooking my Pi (in the bad way).</li>
</ul>
</li>
<li>Some wires to connect everything together (I used the ones that came with my
breadboard kit)</li>
<li>A bit of soldering skill (which I do not have)</li>
</ul>
<p>Here&#x27;s the circuit I ended up with:
<img src="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/circuit.webp?q=85" alt="circuit_diagram"/></p>
<p>I soldered two thin wires to the contact points either side of the fob&#x27;s button,
ran them to the relay, and connected everything according to the diagram above.
The idea is simple: when GPIO pin 17 goes high, it activates the relay, which
bridges the contacts on the fob, which sends the signal to open/close the garage
door.</p>
<p>To test, I put together
<a href="https://gist.github.com/smp46/d68ac357b1ac97062de757412eb9bc09">a basic python script</a>
that makes GPIO17 high for half a second. And shockingly, the door opens.
Yippee!</p>
<p>You might be wondering what sleek professional way I put this all together:
<img src="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/4.jpg?q=85&amp;f=webp" alt="final_circuit"/>
I&#x27;m honestly not sure what the correct way to package something like this is, am
definitely open to feedback if anyone has any better ideas.</p>
<h2 id="teaching-my-computer-to-see">Teaching My Computer to See</h2>
<p>After getting the hardware working, I needed to tackle the &quot;smart&quot; part of my
SmartGarage: teaching a computer to recognize whether my garage door was open or
closed from camera images. This meant dabbling in machine learningâ€”specifically,
computer vision.</p>
<h4 id="data-collection-the-boring-bit">Data Collection: The Boring Bit</h4>
<p>Honestly, this was the hardest and most tedious part of making the image
recognition model. In order to train an accurate model, I needed a lot of data
and I needed it categorised.</p>
<p>So I used that
<a href="https://gist.github.com/smp46/638484a6b0d3d1695666b6c678657ab9">bash script</a>
that saves a picture every minute, or every second during &quot;peak times&quot; i.e.
times when the door is mostly likely to be open, to collect a lot of data.</p>
<p>The result:</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <span class="token function">ls</span> ~/garage/training_imgs <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span>
</span><span class="code-line"><span class="token number">158332</span>
</span></code></pre>
<p>Now that might look nice - more data is more better right? Not quite. When
training a model I discovered a <em>good dataset</em> is a <em>balanced dataset</em>. And
balance is difficult when most of the time the garage door is not open. To
remedy this I made that bash script collect more often when the door might be
open and used a
<a href="https://gist.github.com/smp46/b92a8b312fcd92632b4b6de99c9d8af7">python script</a>
that creates a lot of permutations of the same pictures.</p>
<p>But how do you categorise all those pictures? Slowly and manually...</p>
<p>The specific software I use is <a href="https://www.xnview.com/en/xnviewmp/">XnView MP</a>
which is just a more effecient image library manager with support for batch
renaming. That and moving the data set to a RAMdisk while I&#x27;m working with it
helped speed things up. As turns out handling over 150 thouseand ~20Kb files
isn&#x27;t super easy. Here&#x27;s a snapshot of the exciting action:</p>
<p><img src="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/sorting.gif" alt="sorting_gif"/></p>
<h4 id="the-training-process">The Training Process</h4>
<p>During my first attempt at this project, I put together
<a href="https://github.com/smp46/SmartGarage/tree/ac813584dbb65167c8f29fbdaa52849de34d0e04">a set of Python scripts</a>
using the MobileNetV2 model with PyTorch. For this revival, I upgraded to
MobileNetV3, which is meant to be better overall without needing additional
compute, and made some adjustments to optimize the images for training.</p>
<h6 id="why-the-mobilenet-model">Why the MobileNet Model?</h6>
<p>I picked MobileNet predominantly because it&#x27;s designed for mobile
devicesâ€”meaning it&#x27;s not very computationally expensive. This is important as
the model needs to run against an image every 10 seconds, 24/7.</p>
<p>Also, I only have access to my Radeon 6950XT for training, which is a nice
gaming GPU but in the world of AI, it&#x27;s not particularly powerful. I tried
training with the ConvNeXtV2 model (a much newer and heavier model), and the
training was estimated to take 125 hours to complete. MobileNetV3, by
comparison, takes less than 45 minutes even with ~140,000 images in the dataset.</p>
<h6 id="how-do-those-scripts-work">How do Those Scripts Work?</h6>
<p>Click the Githhub icon on this page to view the project itself and all the code.</p>
<p>But the workflow looks a little like this, I clone the repo, mount it alongside
the training images in the
<a href="https://rocm.docs.amd.com/projects/install-on-linux/en/develop/install/3rd-party/pytorch-install.html">PyTorch docker container</a>
and do something like this:</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">root@docker:/train<span class="token comment"># python3 binaryTrainer.py train</span>
</span><span class="code-line">Enter the path to the training images: /train/training_imgs_sorted/
</span><span class="code-line">What is the object you are trying to classify? Garage Door
</span><span class="code-line">Enter the classification names separated by a comma: open,closed
</span><span class="code-line">Enter the model name to save as: may10_bigdata_10_epochs
</span><span class="code-line">Enter the number of epochs: <span class="token number">10</span>
</span></code></pre>
<p>The output of that model will be a file called <code>may10_bigdata_10_epochs.pth</code> and
a <code>config.ini</code>, this contains the additional training data needed for
predictions and the configuration for the other script <code>justPredict.py</code>. That
second script allows me to just pass it a file:</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">root@docker:/train<span class="token comment"># python3 justPredict.py testing_imgs/garage5.jpg</span>
</span><span class="code-line"><span class="token function">open</span>
</span></code></pre>
<h6 id="can-i-give-it-a-go">Can I Give it a Go?</h6>
<p>Please! I tried making the script fairly user-friendly, mostly so I don&#x27;t have
to remember the intricacies when I want to update / train a new model.
Currently, it is limited to a binary output i.e. a True or False classification.
But it does have some nice features like a progress bar and stopping training
when it detects accuracy loss.</p>
<p>Was all this ML stuff necessary? Probably not. Was there a simpler way to
achieve this? Absolutely. But where&#x27;s the fun in that? Plus, I learned a fair
bit about machine learning in the process, which was kind of the point.</p>
<h2 id="putting-it-all-together">Putting It All Together</h2>
<p>With the hardware and machine learning components working, I needed a way to tie
everything together into a cohesive system. Let me illustrate the architecture
and then I can explain why this is a perfectly sane project (and not at all an
overcomplicated solution to a problem that probably has a $20 commercial
alternative):</p>
<h6 id="architecture">Architecture</h6>
<p>The system follows a microservices approach, with each component handling a
specific responsibility and communicating via HTTP APIs. The Rust HTTP server
runs on the Pi Zero W, the rest is running on my homeserver both in and out of
Docker containers.</p>
<p><img src="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/software.webp?q=85" alt="software_architecture"/></p>
<h5 id="the-components">The Components</h5>
<h6 id="rust-http-api-server"><a href="https://github.com/smp46/SmartGarage/tree/main/garage_door_api"><strong>Rust HTTP API Server</strong></a></h6>
<p>Initially this was just another Python FastAPI, but I switched to Rust, using
Axum Server, because it needs to be running 24/7 and I don&#x27;t want my poor little
Pi Zero W running too hard. The server listens on port <code>3000</code> for a POST request
to the <code>/toggle</code> endpoint with the correct authorisation token, when received it
triggers the button on the fob and the door opens or closes.</p>
<h6 id="fetch-video-snapshot-bash-script"><a href="https://github.com/smp46/SmartGarage/blob/main/garage-img.sh"><strong>Fetch Video Snapshot Bash Script</strong></a></h6>
<p>Every second a script retrieves a snapshot of the garage security camera feed
and saves this to a RAM-disk. A RAM-disk is used to prevent excessive wear and
tear from constant writes to the system drive. A custom systemd service is used
to trigger this every second, as crontab is limited to once per minute.</p>
<h6 id="image-recognition-script"><a href="https://github.com/smp46/SmartGarage/blob/main/image_recognition/garage_monitor.py"><strong>Image Recognition Script</strong></a></h6>
<p>This is a variant of <code>justPredict.py</code> script mentioned before, except it reads a
file from a specified path and sends its results to the Garage Door Status API.
Again, I use a custom systemd service to keep this script running and restart it
on boot.</p>
<h6 id="garage-door-status-api"><a href="https://github.com/smp46/SmartGarage/blob/main/status_api/app/main.py"><strong>Garage Door Status API</strong></a></h6>
<p>Super simple Python HTTP API server, using FastAPI, that receives and stores the
garage door status from the Image Recognition Script and updates its internal
last_opened state if the status changes from closed to open. And then responds
with this data in a JSON response when a POST request is sent to
<code>http://garage-api:5000/status</code>.</p>
<h6 id="homepage-custom-api-widget"><a href="https://gist.github.com/smp46/37efd7d30b2980b4553c148d08c0b969"><strong>Homepage Custom API Widget</strong></a></h6>
<p>This widget lives on my homepage and provides the snapshot from the camera, the
status of the door as reported by the Garage Door Status API and the time it was
last opened. The preview is using an iframe that just displays the snapshot
image, where the iframe html is mounted to the homepage docker container.</p>
<p><img src="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/homepage_widget.webp?q=85" alt="widget_preview"/></p>
<h6 id="email-notification-service"><a href="https://github.com/smp46/SmartGarage/blob/main/garage_notifs.sh"><strong>Email Notification Service</strong></a></h6>
<p>This is a bash script that is run every minute with crontab. It checks the
Status API for the current status and the last opened status, if it is currently
open and the last opened was more than 10 minutes ago it sends a friendly email
with a link to the website to close it.</p>
<h6 id="smartgarage-control-website"><a href="https://github.com/smp46/SmartGarage/tree/main/website"><strong>SmartGarage Control Website</strong></a></h6>
<p>This website provides the snapshot of the security camera and has a button that
sends a POST request through an nginx proxy to the Rust HTTP API Server on the
Pi. The website is hosted via nginx through a Cloudflare Tunnel, using Google
SSO it is protected against unwanted visitors.</p>
<p><img src="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/website.webp?q=85" alt="website"/></p>
<h2 id="the-result">The Result</h2>
<h6 id="but-at-what-cost">But at What Cost?</h6>
<p>Not too much actually, if we ignore how many hours I put into this, and there&#x27;s
a few things leftover / will be used when I do something similar again.</p>
<table><thead><tr><th style="text-align:left">Component</th><th style="text-align:right">Cost (AUD)</th></tr></thead><tbody><tr><td style="text-align:left">Raspberry Pi Zero W</td><td style="text-align:right">$25.00</td></tr><tr><td style="text-align:left">Pi GPIO Pins and Case</td><td style="text-align:right">$8.00</td></tr><tr><td style="text-align:left">Generic Garage Door Fob</td><td style="text-align:right">$8.00</td></tr><tr><td style="text-align:left">5V Relay</td><td style="text-align:right">$8.00</td></tr><tr><td style="text-align:left">220 Ohm 0.5 Watt Resistors</td><td style="text-align:right">$0.85</td></tr><tr><td style="text-align:left">Soldering Iron kit</td><td style="text-align:right">$45.00</td></tr><tr><td style="text-align:left"><strong>Total</strong></td><td style="text-align:right"><strong>$94.85</strong></td></tr></tbody></table>
<h6 id="to-conclude">To Conclude</h6>
<p>After several months of development, testing, and refinement, I&#x27;m happy to
report that my SmartGarage system has been running reliably for over a month
now. The system successfully:</p>
<ul>
<li>Allows me to remotely open and close my garage door from anywhere with
internet access</li>
<li>Detects the door&#x27;s open/closed state with reasonable accuracy</li>
<li>Sends me notifications if I&#x27;ve left the door open for more than 10 minutes</li>
<li>Provides a remotely accessible, nearly real-time view of my garage through via
the camera</li>
</ul>
<p>Here&#x27;s a demo of it in action:
<img src="https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/demo.webp" alt="demo"/></p></div><a href="https://github.com/smp46/SmartGarage" target="_blank" rel="noopener noreferrer" aria-label="View source on GitHub" class="fixed bottom-4 bg-white rounded-full right-4 z-28 text-black hover:scale-110 transition-transform duration-200 sm:hidden block"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="text-3xl" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontMatter":{"title":"SmartGarage","subtitle":" A DIY Wireless Garage Door Control System with a Side of Machine Learning","type":"personal","description":"SmartGarage is a custom-built IoT solution that enables remote garage door control without modifying the original opener. Using a Raspberry Pi, relay circuit, and machine learning image recognition, it provides door status monitoring, remote operation, and automated notificationsâ€”all built with off-the-shelf components.","keywords":"SmartGarage, Raspberry Pi garage door, machine learning IoT, MobileNetV3 image recognition, DIY smart home, remote garage control, Python image classification, Rust API server, garage door automation, security camera integration, homepage dashboard, wireless garage opener","github":"https://github.com/smp46/SmartGarage","date":"2025-05-14","created":"2025-05-11","updated":"2025-05-14","featured":false,"heroImage":"https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/1.jpg?q=85\u0026f=webp","heroImageBlurData":"data:image/jpeg;base64,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","readingTime":"13 min read","wordCount":2455,"minutes":13},"mdxSource":{"compiledSource":"\"use strict\";\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    code: \"code\",\n    em: \"em\",\n    h1: \"h1\",\n    h2: \"h2\",\n    h4: \"h4\",\n    h5: \"h5\",\n    h6: \"h6\",\n    img: \"img\",\n    li: \"li\",\n    p: \"p\",\n    pre: \"pre\",\n    span: \"span\",\n    strong: \"strong\",\n    table: \"table\",\n    tbody: \"tbody\",\n    td: \"td\",\n    th: \"th\",\n    thead: \"thead\",\n    tr: \"tr\",\n    ul: \"ul\",\n    ..._provideComponents(),\n    ...props.components\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      id: \"smartgarage-a-diy-wireless-garage-door-control-system-with-a-side-of-machine-learning\",\n      children: \"SmartGarage: A DIY Wireless Garage Door Control System with a Side of Machine Learning\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"introduction\",\n      children: \"Introduction\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"One day my friend Howie was over and he saw me open my garage door. Naturally he\\ngot out the Flipper Zero he always carries in his bag and asks I use my garage\\ndoor fob again, he captures and resends it easily. I thought that was odd,\\nshouldn't there be, I don't know, maybe at least rolling codes on any modern\\ngarage door opener. But I was inspired and thought if it's that easy surely I\\ncould automate that with some lower cost hardware.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"So I get thinking and I come up with the project you're reading right now. To\\ncreate a system to remotely open and close my garage door without physically\\nmodifying the opener itself (I live in a rental so unfortunately this was a\\nrequirement). But hey that doesn't sound very ambitious and the year is 2024, so\\nI have to to add aRtIFicIAlL inTELiGeNce in here somewhere. In all seriousness,\\noften I leave the house and five minutes later start wondering if I did close my\\ngarage door. So what if instead of wondering I could just check my\\n\", _jsx(_components.a, {\n        href: \"https://gethomepage.dev/\",\n        children: \"homepage\"\n      }), \" dashboard, or even get an email\\nnotification if the garage door has been open too long. And how can I check if\\nthe door is open or not without wiring anything in, easy, I'll just train an\\nimage recognition model that can tell me just that.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This project ended up combining hardware hacking, machine learning, and a web\\ninterface to create a practical solution using nothing but off the shelf (or the\\ninternet) parts and a bit of coding elbow grease.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/1.jpg?q=85\u0026f=webp\",\n        alt: \"Final Result\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"It's hard to show a teaser of the final result because it has so many parts, but\\nhere is what was the hardest part of the solution (I swear it's not a bomb).\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"initial-attempts-and-challenges\",\n      children: \"Initial Attempts and Challenges\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I started with the hard part, how do I clone the garage door fob signal and\\nresend it on command. The fob uses the 433MHz band for transmission. I happened\\nto have a Raspberry Pi Zero W sitting in my drawer, so I go online and find the\\nTexas Instruments CC1101 Sub-GHz transceiver (the same chip that is used by the\\nFlipper Zero). This should let me capture the signal and sent it right on back.\\nMore searching and I see there's plenty of drivers and other projects for this\\ntransceiver so it can't be that hard to use right. I order one, a breadboard and\\na wiring kit to put it together.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"As soon as I got it, I started trying to cobble something together, I try a\\n\", _jsx(_components.a, {\n        href: \"https://github.com/SpaceTeddy/CC1101\",\n        children: \"CC1101 driver library\"\n      }), \", I find\\n\", _jsx(_components.a, {\n        href: \"https://github.com/fphammerle/python-cc1101\",\n        children: \"a python interface for it even\"\n      }), \".\\nBut I don't have much luck.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I get to the stage where I can receive some kind of signal, however to be honest\\nI know nothing about radio and I'm only a CompSci student not an electrical\\nengineer. Even though it is the same chip used by the Flipper Zero, there seems\\nto be fair bit of special sauce that goes into being able to pull a signal out\\nof the air cleanly, then resend it. Documentation for the drivers didn't make\\nmuch sense to me, if there was any at all. So after weeks of trying I decide to\\npivot to another approach (definitely not a skill issue... okay maybe a little).\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"So I have a crack at the other side of the project, training an image\\nrecognition model to tell me if the door is open or not. I start with getting\\nthe cheapest wireless security camera I can find off of chinese marketplace\\nnumber 508 (\", _jsx(_components.a, {\n        href: \"banggood.com\",\n        children: \"banggood.com\"\n      }), \"), configuring my firewall to never let\\nit phone home (block all its internet access) and begin collecting data.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To do this I write a\\n\", _jsx(_components.a, {\n        href: \"https://gist.github.com/smp46/638484a6b0d3d1695666b6c678657ab9\",\n        children: \"Bash script for fetching security camera snapshots\"\n      }), \",\\nand make it into a systemd service on my Debian home server. A few weeks later\\nand I have hundreds of thousands of photos that can be categorised as open or\\nclosed.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"I spent a while then doing some research on how exactly this whole machine\\nlearning stuff works. I decided on making something with PyTorch. A little later\\nand some long discussions with Professor GPT I have\\n\", _jsx(_components.a, {\n        href: \"https://github.com/smp46/SmartGarage/tree/ac813584dbb65167c8f29fbdaa52849de34d0e04\",\n        children: \"two python scripts\"\n      }), \".\\nThe first lets me add my own training data onto the MobileNetV2 model (a\\nlightweight neural network designed for mobile devices) and configure it to\\nprovide a binary output, the second loads my custom model, takes the input of a\\npicture and outputs: \\\"Opened or Closed\\\". Neat! However, knowing my garage door\\nwas actually left open doesn't really help me if I can't remotely close it.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A little over a year goes by, life goes on, and my garage remains dumb :(\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"However, recently while procrastinating some other programming assignments I\\nremembered this project. And I thought, if a fob can open and close the door,\\nmaybe I can just automate pressing the button on the fob. Sometimes the simplest\\nsolutions are the ones staring you right in the face all along...\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"the-hardware-hack\",\n      children: \"The Hardware Hack\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"So I ordered a couple of generic garage door fobs off eBay that were compatible\\nwith my opener. After adding them to the garage door (following the actual\\nprocess in the manual), I started thinking about how I could simulate a button\\npress with my Raspberry Pi Zero W.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now, I'm not an electrical engineer by any stretch, but I figured how\\ncomplicated could a fob be. I carefully cracked open one of the generic fobs and\\nexamined the PCB. After some poking around with a multimeter, I discovered the\\nbutton on the fob just bridges two contacts on the PCB. If I could find a way to\\nbridge those contacts on command from the Pi, I'd be cooking.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/3.jpg?q=85\u0026f=webp\",\n        alt: \"fob_contacts\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Here is the naked fob and the contacts I needed to bridge.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"After some research, I figured out I needed:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"https://www.jaycar.com.au/arduino-compatible-5v-relay/p/XC4419\",\n          children: _jsx(_components.strong, {\n            children: \"Arduino Compatible 5V Relay\"\n          })\n        }), \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"This allows me to use the GPIO on the Pi to send a high signal, which can\\nthen bridge the circuit. As the Pi can't \\\"bridge\\\" but it can send high low\\nsignals.\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"https://www.jaycar.com.au/220-ohm-0-5-watt-metal-film-resistors-pack-of-8/p/RR0556\",\n          children: _jsx(_components.strong, {\n            children: \"220 Ohm 0.5 Watt Resistor\"\n          })\n        }), \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"This prevents the unlikely chance of the Relay drawing too much current and\\ncooking my Pi (in the bad way).\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Some wires to connect everything together (I used the ones that came with my\\nbreadboard kit)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"A bit of soldering skill (which I do not have)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Here's the circuit I ended up with:\\n\", _jsx(_components.img, {\n        src: \"https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/circuit.webp?q=85\",\n        alt: \"circuit_diagram\"\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I soldered two thin wires to the contact points either side of the fob's button,\\nran them to the relay, and connected everything according to the diagram above.\\nThe idea is simple: when GPIO pin 17 goes high, it activates the relay, which\\nbridges the contacts on the fob, which sends the signal to open/close the garage\\ndoor.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To test, I put together\\n\", _jsx(_components.a, {\n        href: \"https://gist.github.com/smp46/d68ac357b1ac97062de757412eb9bc09\",\n        children: \"a basic python script\"\n      }), \"\\nthat makes GPIO17 high for half a second. And shockingly, the door opens.\\nYippee!\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You might be wondering what sleek professional way I put this all together:\\n\", _jsx(_components.img, {\n        src: \"https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/4.jpg?q=85\u0026f=webp\",\n        alt: \"final_circuit\"\n      }), \"\\nI'm honestly not sure what the correct way to package something like this is, am\\ndefinitely open to feedback if anyone has any better ideas.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"teaching-my-computer-to-see\",\n      children: \"Teaching My Computer to See\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"After getting the hardware working, I needed to tackle the \\\"smart\\\" part of my\\nSmartGarage: teaching a computer to recognize whether my garage door was open or\\nclosed from camera images. This meant dabbling in machine learningâ€”specifically,\\ncomputer vision.\"\n    }), \"\\n\", _jsx(_components.h4, {\n      id: \"data-collection-the-boring-bit\",\n      children: \"Data Collection: The Boring Bit\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Honestly, this was the hardest and most tedious part of making the image\\nrecognition model. In order to train an accurate model, I needed a lot of data\\nand I needed it categorised.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"So I used that\\n\", _jsx(_components.a, {\n        href: \"https://gist.github.com/smp46/638484a6b0d3d1695666b6c678657ab9\",\n        children: \"bash script\"\n      }), \"\\nthat saves a picture every minute, or every second during \\\"peak times\\\" i.e.\\ntimes when the door is mostly likely to be open, to collect a lot of data.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The result:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsxs(_components.code, {\n        className: \"language-bash code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"$ \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"ls\"\n          }), \" ~/garage/training_imgs \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"|\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"wc\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-l\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token number\",\n            children: \"158332\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now that might look nice - more data is more better right? Not quite. When\\ntraining a model I discovered a \", _jsx(_components.em, {\n        children: \"good dataset\"\n      }), \" is a \", _jsx(_components.em, {\n        children: \"balanced dataset\"\n      }), \". And\\nbalance is difficult when most of the time the garage door is not open. To\\nremedy this I made that bash script collect more often when the door might be\\nopen and used a\\n\", _jsx(_components.a, {\n        href: \"https://gist.github.com/smp46/b92a8b312fcd92632b4b6de99c9d8af7\",\n        children: \"python script\"\n      }), \"\\nthat creates a lot of permutations of the same pictures.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"But how do you categorise all those pictures? Slowly and manually...\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The specific software I use is \", _jsx(_components.a, {\n        href: \"https://www.xnview.com/en/xnviewmp/\",\n        children: \"XnView MP\"\n      }), \"\\nwhich is just a more effecient image library manager with support for batch\\nrenaming. That and moving the data set to a RAMdisk while I'm working with it\\nhelped speed things up. As turns out handling over 150 thouseand ~20Kb files\\nisn't super easy. Here's a snapshot of the exciting action:\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/sorting.gif\",\n        alt: \"sorting_gif\"\n      })\n    }), \"\\n\", _jsx(_components.h4, {\n      id: \"the-training-process\",\n      children: \"The Training Process\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"During my first attempt at this project, I put together\\n\", _jsx(_components.a, {\n        href: \"https://github.com/smp46/SmartGarage/tree/ac813584dbb65167c8f29fbdaa52849de34d0e04\",\n        children: \"a set of Python scripts\"\n      }), \"\\nusing the MobileNetV2 model with PyTorch. For this revival, I upgraded to\\nMobileNetV3, which is meant to be better overall without needing additional\\ncompute, and made some adjustments to optimize the images for training.\"]\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"why-the-mobilenet-model\",\n      children: \"Why the MobileNet Model?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I picked MobileNet predominantly because it's designed for mobile\\ndevicesâ€”meaning it's not very computationally expensive. This is important as\\nthe model needs to run against an image every 10 seconds, 24/7.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Also, I only have access to my Radeon 6950XT for training, which is a nice\\ngaming GPU but in the world of AI, it's not particularly powerful. I tried\\ntraining with the ConvNeXtV2 model (a much newer and heavier model), and the\\ntraining was estimated to take 125 hours to complete. MobileNetV3, by\\ncomparison, takes less than 45 minutes even with ~140,000 images in the dataset.\"\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"how-do-those-scripts-work\",\n      children: \"How do Those Scripts Work?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Click the Githhub icon on this page to view the project itself and all the code.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"But the workflow looks a little like this, I clone the repo, mount it alongside\\nthe training images in the\\n\", _jsx(_components.a, {\n        href: \"https://rocm.docs.amd.com/projects/install-on-linux/en/develop/install/3rd-party/pytorch-install.html\",\n        children: \"PyTorch docker container\"\n      }), \"\\nand do something like this:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsxs(_components.code, {\n        className: \"language-bash code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"root@docker:/train\", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# python3 binaryTrainer.py train\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"Enter the path to the training images: /train/training_imgs_sorted/\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"What is the object you are trying to classify? Garage Door\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"Enter the classification names separated by a comma: open,closed\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"Enter the model name to save as: may10_bigdata_10_epochs\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"Enter the number of epochs: \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"10\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The output of that model will be a file called \", _jsx(_components.code, {\n        children: \"may10_bigdata_10_epochs.pth\"\n      }), \" and\\na \", _jsx(_components.code, {\n        children: \"config.ini\"\n      }), \", this contains the additional training data needed for\\npredictions and the configuration for the other script \", _jsx(_components.code, {\n        children: \"justPredict.py\"\n      }), \". That\\nsecond script allows me to just pass it a file:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsxs(_components.code, {\n        className: \"language-bash code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"root@docker:/train\", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# python3 justPredict.py testing_imgs/garage5.jpg\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token function\",\n            children: \"open\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"can-i-give-it-a-go\",\n      children: \"Can I Give it a Go?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Please! I tried making the script fairly user-friendly, mostly so I don't have\\nto remember the intricacies when I want to update / train a new model.\\nCurrently, it is limited to a binary output i.e. a True or False classification.\\nBut it does have some nice features like a progress bar and stopping training\\nwhen it detects accuracy loss.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Was all this ML stuff necessary? Probably not. Was there a simpler way to\\nachieve this? Absolutely. But where's the fun in that? Plus, I learned a fair\\nbit about machine learning in the process, which was kind of the point.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"putting-it-all-together\",\n      children: \"Putting It All Together\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"With the hardware and machine learning components working, I needed a way to tie\\neverything together into a cohesive system. Let me illustrate the architecture\\nand then I can explain why this is a perfectly sane project (and not at all an\\novercomplicated solution to a problem that probably has a $20 commercial\\nalternative):\"\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"architecture\",\n      children: \"Architecture\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The system follows a microservices approach, with each component handling a\\nspecific responsibility and communicating via HTTP APIs. The Rust HTTP server\\nruns on the Pi Zero W, the rest is running on my homeserver both in and out of\\nDocker containers.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/software.webp?q=85\",\n        alt: \"software_architecture\"\n      })\n    }), \"\\n\", _jsx(_components.h5, {\n      id: \"the-components\",\n      children: \"The Components\"\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"rust-http-api-server\",\n      children: _jsx(_components.a, {\n        href: \"https://github.com/smp46/SmartGarage/tree/main/garage_door_api\",\n        children: _jsx(_components.strong, {\n          children: \"Rust HTTP API Server\"\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Initially this was just another Python FastAPI, but I switched to Rust, using\\nAxum Server, because it needs to be running 24/7 and I don't want my poor little\\nPi Zero W running too hard. The server listens on port \", _jsx(_components.code, {\n        children: \"3000\"\n      }), \" for a POST request\\nto the \", _jsx(_components.code, {\n        children: \"/toggle\"\n      }), \" endpoint with the correct authorisation token, when received it\\ntriggers the button on the fob and the door opens or closes.\"]\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"fetch-video-snapshot-bash-script\",\n      children: _jsx(_components.a, {\n        href: \"https://github.com/smp46/SmartGarage/blob/main/garage-img.sh\",\n        children: _jsx(_components.strong, {\n          children: \"Fetch Video Snapshot Bash Script\"\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Every second a script retrieves a snapshot of the garage security camera feed\\nand saves this to a RAM-disk. A RAM-disk is used to prevent excessive wear and\\ntear from constant writes to the system drive. A custom systemd service is used\\nto trigger this every second, as crontab is limited to once per minute.\"\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"image-recognition-script\",\n      children: _jsx(_components.a, {\n        href: \"https://github.com/smp46/SmartGarage/blob/main/image_recognition/garage_monitor.py\",\n        children: _jsx(_components.strong, {\n          children: \"Image Recognition Script\"\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This is a variant of \", _jsx(_components.code, {\n        children: \"justPredict.py\"\n      }), \" script mentioned before, except it reads a\\nfile from a specified path and sends its results to the Garage Door Status API.\\nAgain, I use a custom systemd service to keep this script running and restart it\\non boot.\"]\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"garage-door-status-api\",\n      children: _jsx(_components.a, {\n        href: \"https://github.com/smp46/SmartGarage/blob/main/status_api/app/main.py\",\n        children: _jsx(_components.strong, {\n          children: \"Garage Door Status API\"\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Super simple Python HTTP API server, using FastAPI, that receives and stores the\\ngarage door status from the Image Recognition Script and updates its internal\\nlast_opened state if the status changes from closed to open. And then responds\\nwith this data in a JSON response when a POST request is sent to\\n\", _jsx(_components.code, {\n        children: \"http://garage-api:5000/status\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"homepage-custom-api-widget\",\n      children: _jsx(_components.a, {\n        href: \"https://gist.github.com/smp46/37efd7d30b2980b4553c148d08c0b969\",\n        children: _jsx(_components.strong, {\n          children: \"Homepage Custom API Widget\"\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This widget lives on my homepage and provides the snapshot from the camera, the\\nstatus of the door as reported by the Garage Door Status API and the time it was\\nlast opened. The preview is using an iframe that just displays the snapshot\\nimage, where the iframe html is mounted to the homepage docker container.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/homepage_widget.webp?q=85\",\n        alt: \"widget_preview\"\n      })\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"email-notification-service\",\n      children: _jsx(_components.a, {\n        href: \"https://github.com/smp46/SmartGarage/blob/main/garage_notifs.sh\",\n        children: _jsx(_components.strong, {\n          children: \"Email Notification Service\"\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is a bash script that is run every minute with crontab. It checks the\\nStatus API for the current status and the last opened status, if it is currently\\nopen and the last opened was more than 10 minutes ago it sends a friendly email\\nwith a link to the website to close it.\"\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"smartgarage-control-website\",\n      children: _jsx(_components.a, {\n        href: \"https://github.com/smp46/SmartGarage/tree/main/website\",\n        children: _jsx(_components.strong, {\n          children: \"SmartGarage Control Website\"\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This website provides the snapshot of the security camera and has a button that\\nsends a POST request through an nginx proxy to the Rust HTTP API Server on the\\nPi. The website is hosted via nginx through a Cloudflare Tunnel, using Google\\nSSO it is protected against unwanted visitors.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/website.webp?q=85\",\n        alt: \"website\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"the-result\",\n      children: \"The Result\"\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"but-at-what-cost\",\n      children: \"But at What Cost?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Not too much actually, if we ignore how many hours I put into this, and there's\\na few things leftover / will be used when I do something similar again.\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            style: {\n              textAlign: \"left\"\n            },\n            children: \"Component\"\n          }), _jsx(_components.th, {\n            style: {\n              textAlign: \"right\"\n            },\n            children: \"Cost (AUD)\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            style: {\n              textAlign: \"left\"\n            },\n            children: \"Raspberry Pi Zero W\"\n          }), _jsx(_components.td, {\n            style: {\n              textAlign: \"right\"\n            },\n            children: \"$25.00\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            style: {\n              textAlign: \"left\"\n            },\n            children: \"Pi GPIO Pins and Case\"\n          }), _jsx(_components.td, {\n            style: {\n              textAlign: \"right\"\n            },\n            children: \"$8.00\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            style: {\n              textAlign: \"left\"\n            },\n            children: \"Generic Garage Door Fob\"\n          }), _jsx(_components.td, {\n            style: {\n              textAlign: \"right\"\n            },\n            children: \"$8.00\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            style: {\n              textAlign: \"left\"\n            },\n            children: \"5V Relay\"\n          }), _jsx(_components.td, {\n            style: {\n              textAlign: \"right\"\n            },\n            children: \"$8.00\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            style: {\n              textAlign: \"left\"\n            },\n            children: \"220 Ohm 0.5 Watt Resistors\"\n          }), _jsx(_components.td, {\n            style: {\n              textAlign: \"right\"\n            },\n            children: \"$0.85\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            style: {\n              textAlign: \"left\"\n            },\n            children: \"Soldering Iron kit\"\n          }), _jsx(_components.td, {\n            style: {\n              textAlign: \"right\"\n            },\n            children: \"$45.00\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            style: {\n              textAlign: \"left\"\n            },\n            children: _jsx(_components.strong, {\n              children: \"Total\"\n            })\n          }), _jsx(_components.td, {\n            style: {\n              textAlign: \"right\"\n            },\n            children: _jsx(_components.strong, {\n              children: \"$94.85\"\n            })\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h6, {\n      id: \"to-conclude\",\n      children: \"To Conclude\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"After several months of development, testing, and refinement, I'm happy to\\nreport that my SmartGarage system has been running reliably for over a month\\nnow. The system successfully:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Allows me to remotely open and close my garage door from anywhere with\\ninternet access\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Detects the door's open/closed state with reasonable accuracy\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Sends me notifications if I've left the door open for more than 10 minutes\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Provides a remotely accessible, nearly real-time view of my garage through via\\nthe camera\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Here's a demo of it in action:\\n\", _jsx(_components.img, {\n        src: \"https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/demo.webp\",\n        alt: \"demo\"\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{"title":"SmartGarage","subtitle":" A DIY Wireless Garage Door Control System with a Side of Machine Learning","type":"personal","description":"SmartGarage is a custom-built IoT solution that enables remote garage door control without modifying the original opener. Using a Raspberry Pi, relay circuit, and machine learning image recognition, it provides door status monitoring, remote operation, and automated notificationsâ€”all built with off-the-shelf components.","keywords":"SmartGarage, Raspberry Pi garage door, machine learning IoT, MobileNetV3 image recognition, DIY smart home, remote garage control, Python image classification, Rust API server, garage door automation, security camera integration, homepage dashboard, wireless garage opener","github":"https://github.com/smp46/SmartGarage","date":"2025-05-14","created":"2025-05-11","updated":"2025-05-14","featured":false,"heroImage":"https://cdn.statically.io/gh/smp46/smp46.github.io/nextjs/public/assets/smartgarage/1.jpg?q=85\u0026f=webp","heroImageBlurData":"data:image/jpeg;base64,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"}}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"SmartGarage"},"buildId":"DkntlcBzEx8e6sTB4STXz","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>